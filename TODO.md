# Project: Morphogenesis - CA-NEAT

## Goal

The primary goal of this project is to reproduce the results of the "CA-NEAT: Evolved
Compositional Pattern Producing Networks for Cellular Automata Morphogenesis and Replication" paper.
We will be re-implementing the core concepts of the paper from scratch to gain a deeper
understanding of the underlying mechanisms.

## High-Level Plan

The project is divided into two main phases:

1.  **Phase 1: Implement CPPN (Compositional Pattern Producing Networks)**
2.  **Phase 2: Implement NEAT (NeuroEvolution of Augmenting Topologies)**

---

## Phase 1: Implement CPPN

In this phase, we will focus on building the "brain" of our cellular automata, the CPPN.

- [ ] **Create the `Morf::CPPN` module:**
  - This module will contain all the classes related to the CPPN implementation.

- [ ] **Implement `Morf::CPPN::Node`:**
  - Represents a neuron in the network.
  - Should have an activation function.

- [ ] **Implement `Morf::CPPN::Connection`:**
  - Represents a connection between two nodes.
  - Should have a weight.

- [ ] **Implement `Morf::CPPN::Network`:**
  - Represents the entire CPPN.
  - Should hold the nodes and connections.
  - Should have a method to evaluate the network for a given set of inputs.

- [ ] **Implement Activation Functions:**
  - Create a set of activation functions that can be used by the CPPN nodes.
  - Start with the following functions:
    - Sigmoid
    - Identity

- [ ] **Integrate CPPN with the Cellular Automata:**
  - Create a `Morf::CPPN::Brain` class that uses a CPPN to calculate the next state of a cell.
  - The brain will take the cell's coordinates and other inputs as defined by the substrate.

- [ ] **Create a CPPN Experiment:**
  - Create a new experiment in `lib/morf/experiments/cppn/`.
  - This experiment will visualize the patterns generated by a hand-coded CPPN.

- [ ] **Review Accessors:**
  - Classes in `Morf::CPPN` module implement attribute accessors. Review if all accessors are needed and if any of the classes breaks encapsulation.

- [ ] **Implement All Activation Functions:**
  - Implement all activation functions listed in the "CA-NEAT" paper.

---

## Phase 2: Implement NEAT

Once we have a working CPPN implementation, we will move on to implementing the NEAT algorithm to
evolve the CPPNs.

- [ ] **Create the `Morf::NEAT` module:**
  - This module will contain all the classes related to the NEAT implementation.

- [ ] **Implement `Morf::NEAT::Genome`:**
  - Represents the genetic encoding of a CPPN.

- [ ] **Implement `Morf::NEAT::Population`:**
  - Manages a population of genomes.

- [ ] **Implement `Morf::NEAT::Speciation`:**
  - Implements the logic for dividing the population into species based on topological similarity.

- [ ] **Implement `Morf::NEAT::Reproduction`:**
  - Implements crossover and mutation operators.

- [ ] **Implement `Morf::NEAT::Fitness`:**
  - Create a module with different fitness functions to evaluate the generated patterns.
  - Start with a simple fitness function that compares the generated pattern to a target pattern.

- [ ] **Create a NEAT Experiment:**
  - Create a new experiment in `lib/morf/experiments/neat/`.
  - This experiment will use the NEAT algorithm to evolve a population of CPPNs to generate a
    target pattern.

## Notes

- We will be following a TDD/BDD approach, so we will be writing tests for all the new classes.
- We will keep the existing directory structure and conventions.
- We will commit our changes frequently with clear and descriptive messages.
